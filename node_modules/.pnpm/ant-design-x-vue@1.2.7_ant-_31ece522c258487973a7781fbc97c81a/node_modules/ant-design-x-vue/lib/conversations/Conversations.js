"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),u=require("../attachments/Attachments2.js"),g=require("../_util/pick-attrs.js"),P=require("./ConversationsItem.js"),v=require("./GroupTitle.js"),b=require("../_util/hooks/useMergedState.js");require("../x-provider/index.js");const V=require("./hooks/useGroupable.js"),S=require("../_util/hooks/use-x-component-config.js"),G=require("./style/index.js"),M=require("./context.js"),R=require("../x-provider/hooks/use-x-provider-context.js"),T=t.defineComponent({name:"AXConversations",__name:"Conversations",props:t.mergeDefaults({items:null,activeKey:null,defaultActiveKey:null,onActiveChange:{type:Function},menu:{type:Function},groupable:null,styles:null,classNames:null,prefixCls:null,rootClassName:null},{styles:()=>({}),classNames:()=>({})}),setup(e){const m=u.createPropsRestProxy(e,["prefixCls","rootClassName","items","activeKey","defaultActiveKey","onActiveChange","menu","styles","classNames","groupable","class","style"]);t.toRef(e,"class"),t.toRef(e,"activeKey"),t.toRef(e,"prefixCls");const c=t.ref(e.activeKey),d=t.computed(()=>g.default(m,{attr:!0,aria:!0,data:!0})),[y,C]=b.default(e.defaultActiveKey,{value:c});t.watch(()=>e.activeKey,()=>{c.value=e.activeKey});const i=V.default(()=>e.groupable,()=>e.items),{getPrefixCls:f,direction:o}=R.default(),l=t.computed(()=>f("conversations",e.prefixCls)),n=S.default("conversations"),[k,x,N]=G.default(l),h=t.computed(()=>u.classnames(l.value,n.value.className,e.class,e.rootClassName,x.value,N,{[`${l.value}-rtl`]:o.value==="rtl"})),q=s=>{C(s.key),e.onActiveChange&&e.onActiveChange(s.key)};return()=>k(t.createVNode("ul",t.mergeProps(d.value,{style:{...typeof n.value.style=="object"?n.value.style:{},...typeof e.style=="object"?e.style:{}},class:h.value}),[i.value.groupList.map((s,A)=>{const r=s.data.map((a,K)=>t.createVNode(P.default,{key:a.key||`key-${K}`,info:a,prefixCls:l.value,direction:o.value,class:u.classnames(e.classNames.item,n.value.classNames.item),style:{...n.value.styles.item,...e.styles.item},menu:typeof e.menu=="function"?e.menu(a):e.menu,active:y.value===a.key,onClick:q},null));return i.value.enableGroup?t.createVNode("li",{key:s.name||`key-${A}`},[t.createVNode(M.GroupTitleContextProvider,{value:{prefixCls:l.value}},{default:()=>{var a;return[((a=s.title)==null?void 0:a.call(s,s.name,{components:{GroupTitle:v.default}}))||t.createVNode(v.default,{key:s.name},{default:()=>[s.name]})]}}),t.createVNode("ul",{class:`${l.value}-list`},[r])]):r})]))}});exports.default=T;
