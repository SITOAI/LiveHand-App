"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=require("./canUseDom.js"),m=require("./contains.js"),f="data-vc-order",y="vc-util-key",d=new Map;function S({mark:e}={}){return e?e.startsWith("data-")?e:`data-${e}`:y}function s(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function v(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function h(e){return Array.from((d.get(e)||e).children).filter(r=>r.tagName==="STYLE")}function l(e,r={}){if(!g.default())return null;const{csp:t,prepend:c}=r,n=document.createElement("style");n.setAttribute(f,v(c)),t!=null&&t.nonce&&(n.nonce=t==null?void 0:t.nonce),n.innerHTML=e;const i=s(r),{firstChild:u}=i;if(c){if(c==="queue"){const o=h(i).filter(a=>["prepend","prependQueue"].includes(a.getAttribute(f)));if(o.length)return i.insertBefore(n,o[o.length-1].nextSibling),n}i.insertBefore(n,u)}else i.appendChild(n);return n}function C(e,r={}){const t=s(r);return h(t).find(c=>c.getAttribute(S(r))===e)}function b(e,r={}){const t=C(e,r);t&&s(r).removeChild(t)}function N(e,r){const t=d.get(e);if(!t||!m.default(document,t)){const c=l("",r),{parentNode:n}=c;d.set(e,n),e.removeChild(c)}}function _(){d.clear()}function p(e,r,t={}){var u,o,a;const c=s(t);N(c,t);const n=C(r,t);if(n)return(u=t.csp)!=null&&u.nonce&&n.nonce!==((o=t.csp)==null?void 0:o.nonce)&&(n.nonce=(a=t.csp)==null?void 0:a.nonce),n.innerHTML!==e&&(n.innerHTML=e),n;const i=l(e,t);return i.setAttribute(S(t),r),i}exports.clearContainerCache=_;exports.injectCSS=l;exports.removeCSS=b;exports.updateCSS=p;
