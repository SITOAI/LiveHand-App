"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const C=require("../StyleContext.js"),e=require("vue");function _(f,h,d,a){const n=C.useStyleInject(),t=e.shallowRef(""),r=e.shallowRef();e.watchEffect(()=>{t.value=[f,...h.value].join("%")});const i=s=>{n.value.cache.update(s,u=>{const[c=0,l]=u||[];return c-1===0?(a==null||a(l,!1),null):[c-1,l]})};return e.watch(t,(s,u)=>{u&&i(u),n.value.cache.update(s,c=>{const[l=0,o]=c||[],v=o||d();return[l+1,v]}),r.value=n.value.cache.get(t.value)[1]},{immediate:!0}),e.onBeforeUnmount(()=>{i(t.value)}),r}exports.default=_;
