"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const i=require("vue");require("../../cssinjs/StyleContext.js");const T=require("../../cssinjs/util.js"),W=require("../../cssinjs/hooks/useCSSVarRegister.js"),I=require("../../cssinjs/hooks/useStyleRegister/index.tsx2.js");require("../../cssinjs/theme/ThemeCache.js");require("../../warning.js");require("../../cssinjs/transformers/legacyLogicalProperties.js");const X=require("./calc/index.js"),w=require("./getCompVarPrefix.js"),A=require("./getComponentToken.js"),E=require("./getDefaultComponentToken.js"),Y=require("./maxmin.js"),M=require("./statistic.js"),Z=require("../_util/hooks/useUniqueMemo.js"),ee=require("../hooks/useCSP.js");function te(U){const{useCSP:F=ee.default,useToken:h,usePrefix:H,getResetStyles:v,getCommonStyle:V,getCompUnitless:x}=U;function z(e,f,o,t){const _=Array.isArray(e)?e[0]:e;function r(n){return`${String(_)}${n.slice(0,1).toUpperCase()}${n.slice(1)}`}const d=(t==null?void 0:t.unitless)||{},a={...typeof x=="function"?x(e):{},[r("zIndexPopup")]:!0};Object.keys(d).forEach(n=>{a[r(n)]=d[n]});const S={...t,unitless:a,prefixToken:r},u=j(e,f,o,S),l=L(_,o,S);return(n,c=i.toValue(n))=>{const[,s]=u(i.toValue(n),c),[m,k]=l(c);return[m,s,k]}}function L(e,f,o){const{unitless:t,injectStyle:_=!0,prefixToken:r,ignore:d}=o,y=({rootCls:S,cssVar:u={}})=>{const{realToken:l}=h();return W.default({path:[e],prefix:u.prefix,key:u.key,unitless:t,ignore:d,token:l,scope:S},()=>{const n=E.default(e,l,f),c=A.default(e,l,n,{deprecatedTokens:o==null?void 0:o.deprecatedTokens});return Object.keys(n).forEach(s=>{c[r(s)]=c[s],delete c[s]}),c}),null};return S=>{const{cssVar:u}=h();return[l=>_&&u?i.createVNode(i.Fragment,null,[i.createVNode(y,{rootCls:S,cssVar:u,component:e},null),l]):l,u==null?void 0:u.key]}}function j(e,f,o,t={}){const _=Array.isArray(e)?e:[e,e],[r]=_,d=_.join("-"),y=U.layer||{name:"antd"};return(a,S=a)=>{const{theme:u,realToken:l,hashId:n,token:c,cssVar:s}=h(),{rootPrefixCls:m,iconPrefixCls:k}=H(),O=F(),q=s?"css":"js",D=i.unref(Z.default(()=>{const C=new Set;return s&&Object.keys(t.unitless||{}).forEach(p=>{C.add(T.token2CSSVar(p,s.prefix)),C.add(T.token2CSSVar(p,w.default(r,s.prefix)))}),X.default(q,C)},[q,r,s==null?void 0:s.prefix])),{max:G,min:J}=Y.default(q),R=i.computed(()=>({theme:u.value,token:c.value,hashId:n.value,nonce:()=>O.nonce,clientOnly:t.clientOnly,layer:y,order:t.order||-999}));return typeof v=="function"&&I.useStyleRegister(i.computed(()=>({...R.value,clientOnly:!1,path:["Shared",m]})),()=>v(c.value,{prefix:{rootPrefixCls:m,iconPrefixCls:k},csp:O})),[I.useStyleRegister(i.computed(()=>({...R.value,path:[d,a,k]})),()=>{if(t.injectStyle===!1)return[];const{token:C,flush:p}=M.default(c),g=E.default(r,l,o),K=`.${a}`,b=A.default(r,l,g,{deprecatedTokens:t.deprecatedTokens});s&&g&&typeof g=="object"&&Object.keys(g).forEach($=>{g[$]=`var(${T.token2CSSVar($,w.default(r,s.prefix))})`});const P=i.computed(()=>M.merge(C.value,{componentCls:K,prefixCls:a,iconCls:`.${k}`,antCls:`.${m}`,calc:D,max:G,min:J},s?g:b)),N=i.computed(()=>f(P.value,{hashId:n.value,prefixCls:a,rootPrefixCls:m,iconPrefixCls:k}));p(r,b);const Q=typeof V=="function"?V(P.value,a,S,t.resetFont):null;return[t.resetStyle===!1?null:Q,N.value]}),n]}}function B(e,f,o,t={}){const _=j(e,f,o,{resetStyle:!1,order:-998,...t});return({prefixCls:d,rootCls:y=d})=>(_(d,y),null)}return{genStyleHooks:z,genSubStyleComponent:B,genComponentStyleHook:j}}exports.default=te;
