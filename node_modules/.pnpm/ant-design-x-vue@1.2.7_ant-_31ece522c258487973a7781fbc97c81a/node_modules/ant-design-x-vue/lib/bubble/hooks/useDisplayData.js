"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),c=require("../../_util/hooks/use-event-callback.js"),y=require("../../_util/hooks/use-state.js");function d(l){const[a,r]=y.default(l.value.length),t=e.computed(()=>l.value.slice(0,e.unref(a))),o=e.computed(()=>{const u=e.unref(t)[e.unref(t).length-1];return u?u.key:null});e.watch(l,()=>{var u;if(r(l.value.length),!(e.unref(t).length&&e.unref(t).every((n,f)=>{var s;return n.key===((s=l.value[f])==null?void 0:s.key)}))){if(e.unref(t).length===0)r(1);else for(let n=0;n<e.unref(t).length;n+=1)if(e.unref(t)[n].key!==((u=l.value[n])==null?void 0:u.key)){r(n);break}}},{immediate:!0,deep:!0});const i=c.useEventCallback(u=>{u===e.unref(o)&&r(e.unref(a)+1)});return[t,i]}exports.default=d;
